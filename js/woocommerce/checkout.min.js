jQuery(function(a){function b(a){var b=a.next().find(".ui-selectmenu-text");b.text()==a.data("placeholder")&&b.addClass("ui-placeheld")}if("undefined"==typeof wc_checkout_params)return!1;a("select.state_select").selectmenu({close:function(){b(a(this))},create:function(){b(a(this))},open:function(){b(a(this))}}),a("input.checkboxradio").checkboxradio();var c={xhr:!1,$order_review:a("div#order_review"),$checkout_form:a("form.checkout"),init:function(){"1"===wc_checkout_params.is_checkout&&this.update_checkout(),this.$checkout_form.on("change",'input[name^="shipping_method"]',this.update_checkout),this.$checkout_form.on("submit",this.submit),this.$checkout_form.on("change","input#createaccount",function(){a("div.create-account").slideToggle(500)})},update_checkout:function(){if(c.xhr&&c.xhr.abort(),0!==c.$checkout_form.length){var b={security:wc_checkout_params.update_order_review_nonce,shipping_method:{0:c.$order_review.find('input[name^="shipping_method"]:checked').val()},payment_method:c.$order_review.find('input[name="payment_method"]:checked').val(),post_data:c.$checkout_form.serialize()};c.xhr=a.ajax({type:"POST",url:wc_checkout_params.wc_ajax_url.toString().replace("%%endpoint%%","update_order_review"),data:b,success:function(b){return"true"===b.reload?void window.location.reload():(b&&b.fragments&&a.each(b.fragments,function(b,c){a(b).replaceWith(c)}),void a("input.checkboxradio").checkboxradio())}})}},submit:function(){var b=a(this),d=b.find("input.button");return d.val("Apstr훮d훮").prop("disabled",!0).addClass("disabled"),a.ajaxSetup({dataFilter:function(b,c){if("json"!==c)return b;try{var d=a.parseJSON(b);if(d&&"object"==typeof d)return b}catch(a){var e=b.match(/{"result.*"}/);null!==e&&(b=e[0])}return b}}),a.ajax({type:"POST",url:wc_checkout_params.checkout_url,data:b.serialize(),dataType:"json",success:function(b){try{if("success"!==b.result)throw"failure"===b.result?"Result failure":"Invalid response";-1===b.redirect.indexOf("https://")||-1===b.redirect.indexOf("http://")?window.location=b.redirect:window.location=decodeURI(b.redirect)}catch(f){if("true"===b.reload)return void window.location.reload();"true"===b.refresh&&c.update_checkout();var d=c.$checkout_form.find("ul.woocommerce-notices").parent(),e=b.messages?a(a.parseHTML(b.messages)).html():'<ul class="woocommerce-notices"><li>'+wc_checkout_params.i18n_checkout_error+"</li></ul>";d.length?(d.slideUp(500,function(){this.remove()}),setTimeout(function(){c.submit_error(e)},500)):c.submit_error(e)}}}),!1},submit_error:function(b){c.$checkout_form.find("div.content-right").prepend('<div class="content-wrap" style="display: none;">'+b+"</div>"),c.$checkout_form.find("ul.woocommerce-notices").parent().slideDown(500,function(){c.$checkout_form.find("input.button").val("Pas큰t카t").prop("disabled",!1).removeClass("disabled")});var d=a("body"),e=a("ul.woocommerce-notices"),f="block"!==a("div.header-account").css("display")?e.offset().top-32:e.offset().top-96;d.scrollTop()>f&&d.animate({scrollTop:f})}};c.init()});